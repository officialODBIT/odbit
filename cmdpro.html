<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browser Crosh</title>
    <style>
        body {
            background-color: black;
            color: lime;
            font-family: monospace;
            margin: 0;
            padding: 10px;
        }
        #terminal {
            width: 100%;
            height: 90vh;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        #command-input {
            display: flex;
        }
        #command-input span {
            color: white;
        }
        #command {
            background: none;
            border: none;
            color: lime;
            font: inherit;
            outline: none;
            width: 100%;
        }
        .blink {
            animation: blink-animation 1s steps(2, start) infinite;
        }
        @keyframes blink-animation {
            50% { opacity: 0; }
        }
    </style>
</head>
<body>
    <div id="terminal"></div>
    <script>
        const terminal = document.getElementById("terminal");

        function printOutput(text) {
            terminal.innerHTML += text + "\n";
            terminal.scrollTop = terminal.scrollHeight;
        }

        function detectArchitecture() {
            return navigator.userAgent.includes("arm") ? "ARM" : "x86";
        }

        function processCommand(command) {
            const args = command.trim().split(" ");
            const cmd = args[0].toLowerCase();
            
            switch (cmd) {
                case "help":
                    printOutput("Available commands: help, clear, echo, time, date, random, uname -m, sudo reboot, sudo shutdown");
                    break;
                case "clear":
                    terminal.innerHTML = "";
                    break;
                case "echo":
                    printOutput(args.slice(1).join(" "));
                    break;
                case "time":
                    printOutput(new Date().toLocaleTimeString());
                    break;
                case "date":
                    printOutput(new Date().toLocaleDateString());
                    break;
                case "random":
                    printOutput("Random number: " + Math.floor(Math.random() * 100));
                    break;
                case "uname":
                    if (args[1] === "-m") {
                        printOutput(detectArchitecture());
                    } else {
                        printOutput("Unknown uname command");
                    }
                    break;
                case "sudo":
                    if (args[1] === "reboot") {
                        printOutput("Rebooting system... (not really)");
                    } else if (args[1] === "shutdown") {
                        printOutput("Shutting down system... (not really)");
                    } else {
                        printOutput("Unknown sudo command");
                    }
                    break;
                default:
                    printOutput("Unknown command: " + cmd);
            }
        }

        function addInputLine() {
            const inputLine = document.createElement("div");
            inputLine.classList.add("input-line");
            inputLine.innerHTML = `web@userguest: <span class="blink">_</span> <input type="text" class="command" autofocus>`;
            terminal.appendChild(inputLine);
            
            const commandInput = inputLine.querySelector(".command");
            commandInput.focus();
            
            commandInput.addEventListener("keypress", function(event) {
                if (event.key === "Enter") {
                    const command = commandInput.value;
                    inputLine.innerHTML = `web@userguest: ${command}`;
                    processCommand(command);
                    addInputLine();
                }
            });
        }

        addInputLine();
    </script>
</body>
</html>

